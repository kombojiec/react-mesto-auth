{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/constants.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupConfirmation.js","components/ErrorPopup.js","components/AuthForm.js","components/Auth.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/popup_positive.svg","images/popup_negative.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["withRouter","props","useState","page","setPage","pathname","useHistory","location","buttonText","className","src","logo","alt","mail","onClick","onLogOut","history","push","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","link","name","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","year","Date","getFullYear","ImagePopup","isOpen","onOutsideClose","onClose","ownerInfo","id","cohort","authorization","url","api","info","this","_cohort","_authorization","_url","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","data","method","body","JSON","stringify","bool","addLike","removeLike","PopupWithForm","form","useRef","useEffect","current","reset","ref","onSubmit","action","noValidate","title","children","isLoading","buttonName","EditProfilePopup","setName","description","setDescription","event","preventDefault","onChangeButton","onUpdateUser","minLength","maxLength","value","onChange","target","htmlFor","required","EditAvatarPopup","inputRef","onUpdateAvatar","placeholder","AddPlacePopup","setlink","PopupConfirmation","onDelete","deleteCard","ErrorPopup","classes","join","style","color","error","AuthForm","button","register","to","BASE_URL","checkResponse","email","password","message","setData","onRegister","catch","token","onLoggedIn","localStorage","setItem","console","log","ProtectedRoute","Component","component","loggedIn","InfoTooltip","result","popup_positive","popup_negative","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isPopupConfirmation","setIsPopupConfirmation","selectedCard","setSelectedCard","imageShow","setImageShow","setCurrentUser","setCards","isErrorPopupOpen","setIsErrorPopupOpen","errorResponse","setErrorResponse","setIsLoading","setLoggedIn","state","infoTooltipIsOpen","setInfoTooltipIsOpen","setEmail","closeAllPopups","closePopupOutside","currentTarget","jwt","getItem","popupOpened","escapeOutside","key","document","addEventListener","removeEventListener","getUser","response","getCards","item","handleButtonLoading","infoTooltipHandler","authorized","Provider","removeItem","path","user","changeLikeCardStatus","newCard","newCards","changeAvatar","finally","setUser","addCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.54527e48.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React, {useState} from 'react';\nimport logo from '../images/logo.svg';\nimport {withRouter, useHistory} from 'react-router-dom'\n\nconst Header = (props) => {\n\n  const [page, setPage] = useState('/signin')\n\n  const pathname = useHistory().location.pathname;\n  let buttonText = '';\n  if(pathname === '/signup'){\n    buttonText = 'Войти'\n  }else if(pathname === '/signin'){\n    buttonText = 'Регистрация'\n  }\n\n  const redirectToSignIn = () => {\n    setPage('/signin')\n    props.history.push('/signup')\n  }\n  const redirectToSignUp = () => {\n    setPage('/signup')\n    props.history.push('/signin')\n  }\n\n  const redirectButton = () => {\n    if(page === '/signin'){\n      redirectToSignUp();\n      return\n    }\n    redirectToSignIn();\n  }\n\n  return(\n    <header className=\"header\">\n      <img src={logo} alt=\"Логотип\" className=\"header__Logo\" />      \n      {props.mail?\n        <div className=\"header__info\">\n          <p className=\"header__mail\">{props.mail}</p>\n          <button className ='header__button' onClick={props.onLogOut}>Выйти</button>\n        </div>:\n        <button className ='header__button' onClick={redirectButton} >{buttonText}</button>\n      }\n    </header>\n  )\n};\n\nexport default withRouter(Header);","import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React, {useContext} from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\n\r\nconst Card = (props) =>{\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__basket ${isOwn? \r\n    '' :\r\n    'element__basket_hiden'}`\r\n  )\r\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id)\r\n  const cardLikeButtonClassName = `element__like ${isLiked? 'element__like_active': ''}`;\r\n  const handleClick = ()=>{\r\n    props.onCardClick(props.card);\r\n  };\r\n  const handleLikeCard = () =>{\r\n    props.onCardLike(props.card)\r\n  }\r\n  const handleDeleteClick = () =>{\r\n    props.onCardDelete(props.card._id);\r\n  }\r\n\r\n\r\n  return(\r\n    <article className=\"element\">\r\n      <img src={props.card.link} alt={props.card.name} className=\"element__image\" onClick={handleClick} />\r\n      <div className=\"element__description\">\r\n          <h2 className=\"element__title\">{props.card.name}</h2>\r\n          <div className=\"element__like-group\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeCard}></button>\r\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      </div>\r\n    </article>\r\n  )\r\n};\r\n\r\nexport default Card;","import React, {useContext} from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nconst Main = (props) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  return(\n    <main className=\"content\">\n      {/* <!--=================Profile=================== --> */}\n      <section className=\"profile\">\n        <div className=\"profile__items\">\n          <div className=\"profile__avatar-wrap\" onClick={props.onEditAvatar}>\n            <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar\" />\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__author\">\n              <div className=\"profile__name-wrap\">\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <button className=\"button profile__edit-button\" type=\"button\" onClick={props.onEditProfile} ></button>\n              </div>              \n                <p className=\"profile__business\">{currentUser.about}</p>\n            </div>            \n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n\n      {/* <!--=================Elements=================== --> */}\n      <section className=\"elements\">     \n        {props.cards.map((card) => {\n          return (\n            <Card \n              key={card._id} card={card} \n              onCardClick={props.onCardClick} \n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          )    \n        })}\n      </section>        \n    </main>  \n  )\n};\n\nexport default Main;","import React from 'react';\r\n\r\nconst Footer = (props) => {\r\n  const currenTime = new Date();\r\n  const year = currenTime.getFullYear()\r\n\r\n  return(\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {year} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n};\r\n\r\nexport default Footer;","\r\nconst ImagePopup = (props) => {\r\n    return(\r\n      <section className={`popup popup_image popup_dark ${props.isOpen? 'popup_opened': \"\"}`} onClick={props.onOutsideClose}>\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={props.card.link}\r\n                alt={props.card.name} />\r\n          <button className=\"popup__close popup__close_place_image\" type=\"button\" onClick={props.onClose}></button>\r\n          <figcaption className=\"popup__figcaption\">{props.card.name}</figcaption>\r\n        </figure>\r\n      </section>\r\n    )  \r\n};\r\n\r\nexport default ImagePopup;","// Objects==============================\r\n\r\nconst ownerInfo = {\r\n  id: \"\",\r\n  cohort: 'cohort-17',\r\n  authorization: '41783898-48ae-4927-9db7-0ae982096860',\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-17',\r\n};\r\n\r\nexport default ownerInfo;","import ownerInfo from './constants';\r\n//=======================================\r\nclass Api {\r\n  constructor(info) {\r\n    this._cohort = info.cohort;\r\n    this._authorization = info.authorization;\r\n    this._url = info.url;\r\n  }\r\n\r\n  //Метод проверки статуса\r\n  _checkResponse(res){\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  }\r\n\r\n  //Получение данных пользователя\r\n  getUser() {\r\n    return fetch(this._url + '/users/me', {\r\n        headers: {\r\n          authorization: this._authorization\r\n        }\r\n      })\r\n      .then(res => this._checkResponse(res));\r\n  }\r\n\r\n  // Установка данных пользователя\r\n  setUser(data){\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n    .then(res => this._checkResponse(res));\r\n  }\r\n\r\n  // Получение массива карточек\r\n  getCards() {\r\n    return fetch(this._url + '/cards', {\r\n        headers: {\r\n          authorization: this._authorization\r\n        }\r\n      })\r\n      .then(res => this._checkResponse(res));\r\n  }\r\n\r\n  // Добавлнение новой карточки\r\n  addCard(name, link){\r\n    return fetch(this._url + '/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    })\r\n    .then(res => this._checkResponse(res));\r\n  }\r\n\r\n\r\n  // Удаление карточки\r\n  removeCard(id){\r\n    return fetch(this._url + '/cards/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-type': 'application/json',\r\n      },      \r\n    })\r\n    .then(res => this._checkResponse(res));\r\n  }\r\n\r\n  // Добавление лайка\r\n  addLike(id){\r\n    return fetch(this._url + '/cards/likes/' + id, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-type': 'application/json',\r\n      },      \r\n    })\r\n    .then(res => this._checkResponse(res));\r\n  }\r\n\r\n  // Удаление лайка\r\n  removeLike(id){\r\n    return fetch(this._url + '/cards/likes/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-type': 'application/json',\r\n      },      \r\n    })\r\n    .then(res => this._checkResponse(res));\r\n  }\r\n\r\n  // Изменение лайка\r\n  changeLikeCardStatus(id, bool){\r\n    if(bool){\r\n      return this.addLike(id);\r\n    }else{\r\n      return this.removeLike(id);\r\n    }\r\n  }\r\n\r\n  // Смена аватара\r\n  changeAvatar(url){\r\n    return fetch(this._url + '/users/me/avatar' , {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-type': 'application/json',\r\n      },      \r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      })\r\n    })\r\n    .then(res => this._checkResponse(res));\r\n  }  \r\n\r\n}\r\n\r\n\r\nconst api = new Api(ownerInfo);\r\nexport default api;","import React, {useEffect,useRef} from  'react';\r\n\r\nconst PopupWithForm = (props) => {\r\n\r\n  const form = useRef();\r\n\r\n  useEffect(()=>{\r\n    !props.isOpen && form.current.reset();\r\n  },[props.isOpen])  \r\n  \r\n  return(\r\n    <section className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`} onClick={props.onOutsideClose}>\r\n      <form ref={form} onSubmit={props.onSubmit} action=\"#\" className=\"popup__form\" noValidate>\r\n        <h2 className=\"popup__title\">{props.title} </h2>\r\n        {props.children}\r\n        <button className=\"popup__button\" type=\"submit\">{props.isLoading? props.isLoading: props.buttonName}</button>\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose} />\r\n      </form>\r\n    </section>\r\n  )\r\n};\r\n\r\nexport default PopupWithForm;","import React, {useState, useContext, useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nconst EditProfilePopup = (props) =>{\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  useEffect(()=>{\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n  },[props.isOpen, currentUser])\r\n\r\n  const handleNameChange = (event => {\r\n    setName(event.target.value)\r\n  })\r\n  const handleDescriptionChange = (event => {\r\n    setDescription(event.target.value);\r\n  })\r\n\r\n  useEffect(()=>{\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser])\r\n\r\n  function handleSubmit(event){\r\n    event.preventDefault();\r\n    props.onChangeButton('Loading...');\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      isLoading={props.isLoading}\r\n      onClose={props.onClose} \r\n      onOutsideClose={props.onOutsideClose} \r\n      title={'Редактировать профиль'} name='form_profile' \r\n      buttonName='Сохранить' onSubmit={handleSubmit} >\r\n      <input type=\"text\" className=\"popup__input popup__input_place_name\" name=\"name\" id=\"edit-name\" minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleNameChange}/>\r\n      <label className=\"popup__input-error\" htmlFor=\"edit-name\" id=\"edit-name-error\"></label>\r\n      <input type=\"text\" className=\"popup__input popup__input_place_business\" name=\"about\" id=\"edit-business\" minLength=\"2\" maxLength=\"200\" required value={description || ''} onChange={handleDescriptionChange} />\r\n      <label className=\"popup__input-error\" htmlFor=\"edit-business\" id=\"edit-business-error\"></label>\r\n    </PopupWithForm>\r\n  )\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import React, {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst EditAvatarPopup = (props) =>{\r\n\r\n  const inputRef = useRef();\r\n\r\n  function handleSubmit(event){\r\n    event.preventDefault();\r\n    props.onChangeButton('Loading...');\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    })\r\n  }\r\n  \r\n  return(\r\n    <PopupWithForm \r\n      isOpen={props.isOpen}\r\n      isLoading={props.isLoading}\r\n      onClose={props.onClose}\r\n      onOutsideClose={props.onOutsideClose}\r\n      onSubmit={handleSubmit}\r\n      title={'Обновить аватар'} name='avatar' buttonName='Сохранить'>\r\n      <input ref={inputRef} type=\"url\" className=\"popup__input popup__input_place_avatar\" name=\"avatar-sourse\" id=\"avatar-sourse\" placeholder=\"https://somewebsite.com/someimage.jpg\" required />\r\n      <label className=\"popup__input-error\" htmlFor=\"avatar-sourse\" id=\"avatar-sourse-error\"></label\r\n    >\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React,{useState} from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nconst AddPlacePopup = (props) =>{\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setlink] = useState('');\r\n\r\n  const handleInputPlace = (event)=>{\r\n    setName(event.target.value);\r\n  }\r\n\r\n  const handleInputSource = (event)=>{\r\n    setlink(event.target.value);\r\n  }\r\n\r\n  const handleSubmit = (event)=>{\r\n    event.preventDefault();\r\n    props.onChangeButton('Loading...');\r\n    props.onAddPlace({name, link})\r\n    event.target.reset()\r\n  } \r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onOutsideClose={props.onOutsideClose} \r\n      isLoading={props.isLoading}\r\n      onSubmit={handleSubmit}\r\n      title='Новое место'  \r\n      name='form_card' \r\n      buttonName=\"Создать\"\r\n    >\r\n      <input type=\"text\" className=\"popup__input popup__input_place_place-name\" name=\"card-name\" id=\"card-name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required onChange={handleInputPlace} />\r\n      <label className=\"popup__input-error\" htmlFor=\"card-name\" id=\"card-name-error\"></label>\r\n      <input type=\"url\" className=\"popup__input popup__input_place_source\" name=\"card-sourse\" id=\"card-sourse\" placeholder=\"Ссылка на картинку\" required onChange={handleInputSource} />\r\n      <label className=\"popup__input-error\" htmlFor=\"card-sourse\" id=\"card-sourse-error\"></label>            \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react';\r\n\r\nconst PopupConfirmation = (props) =>{\r\n\r\n  const deleteCard = (event) =>{\r\n    props.onChangeButton('Deleting...')\r\n    props.onDelete(event);\r\n  }\r\n  \r\n  return(\r\n    <section className={`popup popup_remove ${props.isOpen? 'popup_opened': ''}`} onClick={props.onOutsideClose}>\r\n      <form className=\"popup__form \" onSubmit={(event)=>deleteCard(event)}>\r\n        <h2 className=\"popup__title popup__title_type_dark\">Вы уверены?</h2>\r\n        <button className=\"popup__button popup__button_remove\" type=\"submit\" >{props.isLoading? props.isLoading: 'Да'}</button>\r\n        <button className=\"popup__close popup__close_place_remove\" type=\"button\" onClick={props.onClose}></button>\r\n      </form>\r\n     </section>\r\n  )\r\n};\r\n\r\nexport default PopupConfirmation;\r\n\r\n","import React from 'react';\n\nconst ErrorPopup = (props) => {\n\n  const classes =['popup', 'popup_error'];\n  if(props.isOpen){classes.push('popup_opened');}\n\n  return(\n    <section className={classes.join(' ')} onClick={props.onOutsideClose}>\n      <div className=\"popup__fault\" >\n        <h2 className=\"popup__title\">Что-то пошло не так...</h2>          \n        <p className=\"popup__text\">При отправке данных произошла ошибка&nbsp;\n          <span style={{color:'red'}}>{props.error}</span>\n        . Проверьте данные или повторите запрос позже.</p>\n        <button className=\"popup__close popup__close_place_error\" type=\"button\" onClick={props.onClose}></button>\n      </div>\n    </section> \n  )\n};\n\nexport default ErrorPopup;","import React from 'react'\nimport { NavLink } from \"react-router-dom\";\n\nexport const AuthForm = props => {\n\n  return(\n    <form className=\"auth\" onSubmit={props.onSubmit}>\n      <h2 className=\"auth__title\">{props.title}</h2>\n      <input type=\"text\" name='email' onChange={props.onChange} className=\"auth__input\" placeholder='Email' required={true}/>\n      <input type=\"password\" name='password' onChange={props.onChange} className=\"auth__input\" placeholder='Пароль' required={true}/>\n      <button  className=\"auth__button\">{props.button}</button>\n      {props.register?\n        <div className=\"auth__redirect\">\n          <p className=\"auth__redirect-text\">Уже зарегистрированы?</p>\n          <NavLink to='/signin' className=\"auth__redirect-button\">Войти</NavLink>\n        </div>\n        :null\n      }\n    </form>\n  )\n}","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction checkResponse(res){\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(res);\n}\n\nexport const Registration = (email, password) => {\n  return fetch(`${BASE_URL}/signup`,{\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then(res => checkResponse(res))\n}\n\nexport const Authorization = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then(res => checkResponse(res))\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`,{\n    method: 'get',\n    headers:{\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    } \n  })\n  .then(res => checkResponse(res))\n}","\nimport React,{ useState } from \"react\";\nimport {AuthForm} from \"./AuthForm\";\nimport {Registration} from './Auth';\nimport {withRouter } from \"react-router-dom\";\n\n\nconst Register = (props) => {\n\n  const [data, setData] = useState({\n    email: '',\n    password: '',\n    message: '',\n  })\n  const inputHandler = (event) => {\n    const {name, value} = event.target;\n    setData({\n      ...data,\n      [name]: value,\n    })\n  }\n\n  const submitHandler = (event) => {\n    event.preventDefault()\n    Registration(data.email, data.password)\n    .then(res => {\n      props.onRegister(true, 'success')\n      props.history.push('/signin')\n    })\n    .catch(error => {\n      props.onRegister(true,'failure')\n    });\n  }\n\n  return (\n    <div className='page_type_auth' >\n      <div className=\"page__container\">  \n      <AuthForm \n        onChange={inputHandler}\n        onSubmit={submitHandler}\n        title='Регистрация'\n        button='Зарегистрироваться'\n        register={true}\n      />\n      </div>\n    </div>\n  )\n}\n\nexport default  withRouter(Register)","import React,{ useState } from \"react\";\nimport {AuthForm} from \"./AuthForm\";\nimport {Authorization} from './Auth'\nimport { withRouter } from \"react-router-dom\";\n\nconst Login = props => {\n\n  const [data, setData] = useState({\n    email: '',\n    password: ''\n  })\n  \n  const inputHandler = (event) => {\n    const {name, value} = event.target;\n    setData({\n      ...data,\n      [name]: value,\n    })\n  }\n\n  const submitHandler = (event) => {\n    event.preventDefault()\n    Authorization(data.email, data.password)\n    .then(res => {\n      if(res.token){\n        props.onLoggedIn(data.email);\n        localStorage.setItem('jwt', res.token);\n        props.history.push('/');\n      }else{\n        return\n      }\n    })\n    .catch(error => {\n      props.onRegister(true,'failure')\n      if(error.status === 400){\n        console.log('Не корректно введены данные')\n      }else if(error.status === 401){\n        console.log('Пользователь не найден')\n      }else{\n        console.log('Ошибка' + error.status)\n      }\n    });\n  }\n\n  return (\n    <div className='page_type_auth' >\n      <div className=\"page__container\">\n\n      <AuthForm \n        onChange={inputHandler}\n        onSubmit={submitHandler}\n        title='Вход'\n        button='Войти'\n        register={false}\n      />\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(Login);","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({component: Component, ...props}) => {\n  return(\n    <Route>\n        {props.loggedIn? <Component {...props} />: <Redirect to='/signup'/>}\n    </Route>\n  )\n}","export default __webpack_public_path__ + \"static/media/popup_positive.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/popup_negative.df8eddf6.svg\";","import React from  'react';\nimport popup_positive from '../images/popup_positive.svg'\nimport popup_negative from '../images/popup_negative.svg'\n\nconst InfoTooltip = (props) => {\n  \n  return(\n    <section className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`} onClick={props.onOutsideClose}>\n      <form className=\"popup__form popup__form_type_auth\" >\n        {props.result?\n        <>\n          <img src={props.result === 'success'? popup_positive: popup_negative} alt=\"Результат\" className=\"popup__mark\"/>\n          <h2 className=\"popup__title popup__title_type_auth\">\n            {props.result === 'success'? \n              'Вы успешно зарегистрировались!':\n              'Что-то пошло не так! Попробуйте ещё раз.'\n            } \n          </h2>\n          </>:\n        null\n        }\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose} />\n      </form>\n    </section>\n  )\n};\n\nexport default InfoTooltip;","import React, {useState, useEffect} from 'react';\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport ownerInfo from '../utils/constants'\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup'\nimport PopupConfirmation from './PopupConfirmation';\nimport ErrorPopup from './ErrorPopup';\nimport Register  from \"./Register\";\nimport Login from \"./Login\";\nimport { ProtectedRoute } from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport {checkToken} from './Auth'\n\nfunction App(props) {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isPopupConfirmation, setIsPopupConfirmation] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({}); \n  const [imageShow, setImageShow] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isErrorPopupOpen, setIsErrorPopupOpen] = useState(false);\n  const [errorResponse, setErrorResponse] = useState('');\n  const [isLoading, setIsLoading] = useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [infoTooltipIsOpen, setInfoTooltipIsOpen] = useState({\n    state: false,\n    result: null\n  })\n  const [email, setEmail] = useState('')\n  \n  const handleAddPlace = ()=> setIsAddPlacePopupOpen(true);  \n  const handleEditAvatar =()=> setIsEditAvatarPopupOpen(true); \n  const handleEditProfile = ()=> setIsEditProfilePopupOpen(true);  \n  const handleCardClick = (card)=> {\n    setSelectedCard(card);\n    setImageShow(true)\n  };\n  \n  const closeAllPopups = ()=>{\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setImageShow(false);\n    setIsPopupConfirmation(false);\n    setIsErrorPopupOpen(false);\n    setInfoTooltipIsOpen({state: false, result: null });\n  };\n  const closePopupOutside =(event)=>{\n    if(event.target === event.currentTarget){\n      closeAllPopups();\n    }\n  };\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if(jwt){\n      checkToken(jwt)\n      .then(res => {\n        if (res){\n          setLoggedIn(true);   \n        }        \n      })\n      .then(() => props.history.push('/'))\n      .catch(error => console.log(error));\n    }\n  },[props.history])\n\n  useEffect(()=>{\n    const popupOpened = ()=>{\n      if(isEditAvatarPopupOpen || \n        isEditProfilePopupOpen || \n        imageShow ||\n        isPopupConfirmation ||\n        infoTooltipIsOpen.state ||\n        isErrorPopupOpen ||\n        isAddPlacePopupOpen){return true;}\n      return false;\n    };\n\n    if(!popupOpened()){\n      return\n    }\n    \n    const escapeOutside = (event)=>{\n      if(event.key === 'Escape'){\n      closeAllPopups();\n      }\n    };\n\n    if(popupOpened()){\n      document.addEventListener('keydown', escapeOutside);\n    }\n\n    return()=>{\n      document.removeEventListener('keydown', escapeOutside);\n    };    \n\n  },[isEditAvatarPopupOpen,infoTooltipIsOpen.state, isEditProfilePopupOpen,\n    imageShow, isAddPlacePopupOpen, \n    isPopupConfirmation, isErrorPopupOpen]);\n\n  useEffect(()=>{\n    api.getUser()\n    .then(response => {\n      ownerInfo.id = response._id;\n      setCurrentUser(response);\n    })\n    .catch((response)=> {\n      setErrorResponse(response);\n      setIsErrorPopupOpen(true)\n    })    \n  }, [])\n\n  function handleUpdateUser(data){\n    api.setUser(data)\n    .then(result => {\n      setCurrentUser(result);\n      setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n    }) \n    .catch((response)=>{\n      setErrorResponse(response);\n      setIsErrorPopupOpen(true)\n    })\n    .finally(()=> {\n      setIsLoading('');\n    })\n  }\n\n  function handleUpdateAvatar(data){\n    api.changeAvatar(data.avatar)\n    .then(result => {\n      setCurrentUser(result);      \n      setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n    })\n    .catch(result => {\n      setErrorResponse(result);\n      setIsErrorPopupOpen(true)\n    })\n    .finally(()=> {\n      setIsLoading('');\n    });\n  }  \n\n  useEffect(()=>{\n    api.getCards()\n    .then(response =>{\n      setCards(response.map(item => item));\n    })\n    .catch(result => {\n      setErrorResponse(result);\n      setIsErrorPopupOpen(true)\n    });\n  },[]);\n\n  function handleCardLike(card){\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then(newCard => {\n      const newCards = cards.map(item => item._id === newCard._id? newCard: item);\n      setCards(newCards);\n    })\n    .catch(result => {\n      setErrorResponse(result);\n      setIsErrorPopupOpen(true)\n    })\n  }\n\n  function confirmDelete(id){\n    setIsPopupConfirmation(id);  \n  }\n  function handleDeleteCard(event){\n    event.preventDefault();\n    api.removeCard(isPopupConfirmation)\n    .then(response => {\n      const newCards = cards.filter(item => item._id !== isPopupConfirmation);\n      setCards(newCards);\n      setIsPopupConfirmation(false);\n    })\n    .catch(result => {\n      setErrorResponse(result);\n      setIsErrorPopupOpen(true)\n    })\n    .finally(()=> {\n      setIsLoading('');\n    });\n  }  \n\n  function handleAddPlaceSubmit(data){\n    api.addCard(data.name, data.link)\n    .then(result => {\n      setCards([result, ...cards]);\n      setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n    })\n    .catch(result => {\n      setErrorResponse(result);\n      setIsErrorPopupOpen(true)\n    })\n    .finally(()=> {\n      setIsLoading('');\n    });\n  }\n\n  const handleButtonLoading = (value) =>{\n    setIsLoading(value);\n  }\n\n  const infoTooltipHandler = (state, authorized = null) => {\n    setInfoTooltipIsOpen({state, result: authorized})\n  }\n\n  const logOut = () => {\n    localStorage.removeItem('jwt');\n    props.history.push('/signup')\n    setEmail('')\n  }\n\n  const logIn = (email) => {\n    setLoggedIn(true)\n    setEmail(email)\n  }\n\n   \n  return (\n\n    <CurrentUserContext.Provider value={currentUser} >  \n      <div className=\"App page\" >\n        <div className=\"page__container\"  >            \n          <Header \n            // buttonText='logout' \n            mail={email}\n            onLogOut={logOut}\n          />\n\n          <Switch>    \n            <Route path='/signup'>\n              <Register onRegister={infoTooltipHandler} />\n            </Route>\n            \n            <Route path='/signin' >\n              <Login \n                onRegister={infoTooltipHandler} \n                onLoggedIn={logIn}\n              />\n            </Route>            \n\n            <ProtectedRoute path='/'\n              loggedIn={loggedIn}\n              user={currentUser}  \n              onEditAvatar={handleEditAvatar}      \n              onEditProfile={handleEditProfile}      \n              onAddPlace={handleAddPlace}\n              onCardClick={handleCardClick}\n              cards = {cards}\n              onCardLike={handleCardLike}\n              onCardDelete={confirmDelete}\n              component = {Main}\n            > \n          </ProtectedRoute>\n          </Switch>\n\n          {/* Результат авторизации========================*/}\n          <InfoTooltip \n            isOpen={infoTooltipIsOpen.state}            \n            onClose={closeAllPopups}\n            onOutsideClose={closePopupOutside}\n            result={infoTooltipIsOpen.result}\n            message={infoTooltipIsOpen.message}\n          />\n\n          {/* Добавление автара========================*/}\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            isLoading={isLoading}\n            onChangeButton={handleButtonLoading}\n            onClose={closeAllPopups}\n            onOutsideClose={closePopupOutside}\n            onUpdateAvatar={handleUpdateAvatar}\n          >\n          </EditAvatarPopup>\n\n            {/* Изменение профиля=========================*/}\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            isLoading={isLoading}\n            onChangeButton={handleButtonLoading}\n            onClose={closeAllPopups} \n            onOutsideClose={closePopupOutside}\n            onUpdateUser={handleUpdateUser}           \n          >   \n          </EditProfilePopup>\n\n          {/* Добавление карточки=======================*/}\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            isLoading={isLoading}\n            onChangeButton={handleButtonLoading}\n            onClose={closeAllPopups}\n            onOutsideClose={closePopupOutside} \n            onAddPlace={handleAddPlaceSubmit}\n          >              \n          </AddPlacePopup>     \n          \n          {/* Просмотр карточки==========================*/}\n          <ImagePopup \n            card={selectedCard} \n            isOpen={imageShow}\n            onClose={closeAllPopups} \n            onOutsideClose={closePopupOutside} />\n\n          {/* <!-- Попап подтверждения удаления --> */}\n          <PopupConfirmation \n            isOpen={isPopupConfirmation}\n            isLoading={isLoading}\n            onChangeButton={handleButtonLoading}\n            onClose={closeAllPopups}\n            onOutsideClose={closePopupOutside} \n            onDelete={handleDeleteCard}\n          >\n          </PopupConfirmation>\n          \n          {/* Вывод ошибки==========================*/}\n          <ErrorPopup\n            isOpen={isErrorPopupOpen}\n            onClose={closeAllPopups}\n            onOutsideClose={closePopupOutside} \n            error={errorResponse}\n          >\n          </ErrorPopup>\n\n          <Footer />            \n        </div>\n      </div>\n    </CurrentUserContext.Provider>  \n        \n  );\n}\n\nexport default withRouter(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}